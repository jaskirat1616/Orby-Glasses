# OrbyGlasses - Fast Configuration
# Simple settings for fast and accurate navigation

camera:
  source: 0
  width: 640
  height: 480
  fps: 30

models:
  yolo:
    path: "models/yolo/yolo12n.pt"
    confidence: 0.7
    iou_threshold: 0.45
    device: "mps"
    half_precision: true

  depth:
    path: "depth-anything/Depth-Anything-V2-Small-hf"
    device: "mps"
    half_precision: true
    max_resolution: 480  # Balanced for accuracy and speed

  llm:
    primary: "gemma3:4b"
    vision: "moondream:latest"
    temperature: 0.6
    max_tokens: 150
    vlm_enabled: false  # Disabled for speed

safety:
  min_safe_distance: 1.5
  danger_distance: 0.4
  caution_distance: 2.0
  emergency_stop_key: "q"
  max_obstacle_alerts: 3
  enable_calibration: true
  focal_length: 500  # Standard focal length (matches main config)
  enable_health_monitoring: true
  safe_mode_fps_threshold: 5
  max_error_count: 10

audio:
  tts_engine: "pyttsx3"
  tts_rate: 180
  tts_volume: 0.9
  enable_priority_system: true
  max_queue_size: 5
  min_message_interval: 0.5
  echolocation_enabled: false  # Disabled for simplicity
  spatial_audio: false

performance:
  audio_update_interval: 1.5
  danger_audio_interval: 0.5
  stats_interval: 100
  max_detections: 5
  depth_skip_frames: 1  # Calculate depth every 2nd frame for accuracy
  frame_skip: 0
  enable_multithreading: true
  cache_depth_maps: true

slam:
  enabled: true
  grid_size: [300, 300]
  grid_resolution: 0.2
  save_maps: true
  visualize: true
  show_map_creation: false
  show_camera_trajectory: false
  show_keyframes: false
  show_landmarks: false
  orb_features: 500  # Balanced for speed and accuracy
  fast_threshold: 10
  min_matches: 10  # Balanced for speed
  motion_model: true
  pose_smoothing: 0.8  # Stronger smoothing for stability
  temporal_consistency_check: true
  max_position_jump: 0.2
  max_rotation_jump: 0.2
  strict_matching: true  # Enable for accuracy
  min_tracked_features: 12  # More features for stability
  keyframe_threshold: 15  # More frequent keyframes
  reprojection_threshold: 2.0  # Lower for accuracy
  min_depth: 0.05  # Better close detection
  max_depth: 15.0
  loop_closure: false  # Disabled for speed
  bundle_adjustment: false  # Disabled for speed

indoor_navigation:
  enabled: true
  path_planning: true
  save_locations: true

occupancy_grid_3d:
  enabled: false  # Disabled for speed

trajectory_prediction:
  enabled: false  # Disabled for speed

conversation:
  enabled: false  # Disabled for speed

social_navigation:
  enabled: false  # Disabled for speed

logging:
  level: "INFO"
  log_file: "data/logs/orbyglass.log"
  save_detections: false
  save_frames: false
