adaptive_system:
  battery_monitoring: true
  battery_saver_threshold: 20
  emergency_mode_enabled: true
  time_based_adjustments: true
audio:
  adaptive_beaconing_enabled: false
  beacon_obstacle_frequency: 880
  beacon_safe_frequency: 440
  clear_path_beacon: 330
  door_beacon: 660
  echolocation_enabled: false
  spatial_audio: true
  stairs_beacon: 1320
  tts_engine: pyttsx3
  tts_rate: 190
  tts_volume: 1.0
  warning_pulse_rate: 0.12
camera:
  fps: 30
  height: 480
  source: 1  # Using camera 1 as requested
  width: 640
  fx: 525.0
  fy: 525.0
  cx: 320.0
  cy: 240.0
conversation:
  activation_phrase: hey orby
  check_interval: 0.5
  command_phrases:
  - what's around me
  - is the path clear
  - where am I
  - save location
  - take me to
  - help
  - stop navigation
  - start navigation
  - save this location as
  enabled: true  # Voice control enabled for hands-free operation
  max_tokens: 100
  model: gemma3:4b
  simple_commands: true
  temperature: 0.6
  voice_input: true
echolocation:
  duration: 0.1
  room_dimensions:
  - 10
  - 10
  - 3
  sample_rate: 16000
haptic:
  device_type: generic
  enabled: false
  intensity: 0.7
  num_motors: 10
  patterns:
    all_clear:
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    danger_ahead:
    - 0
    - 0
    - 0
    - 0
    - 1
    - 1
    - 0
    - 0
    - 0
    - 0
    danger_left:
    - 1
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    danger_right:
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 0
    - 1
indoor_navigation:
  enabled: true
  path_planning: true
  save_locations: true
logging:
  level: INFO  # Reduced from DEBUG for performance
  log_file: data/logs/orbyglass.log
  save_detections: false
  save_frames: false
mapping3d:
  enabled: false
  fx: 500
  fy: 500
  max_depth: 6.0
  skip_bbox: true
  subsample_step: 8
  update_interval: 0.3
  voxel_size: 0.15
models:
  depth:
    device: mps
    half_precision: true
    max_resolution: 256
    path: depth-anything/Depth-Anything-V2-Small-hf
  llm:
    max_tokens: 150
    primary: moondream:latest
    scene_analysis_interval: 15
    temperature: 0.4
    vision: moondream:latest
    vlm_enabled: true
  yolo:
    confidence: 0.55
    device: mps
    half_precision: true
    iou_threshold: 0.5
    path: models/yolo/yolo11n.pt
movement_visualizer:
  canvas_size:
  - 700
  - 700
  enabled: false
  show_stats: true
  trail_length: 200
occupancy_grid_3d:
  enabled: false
  grid_size:
  - 10.0
  - 10.0
  - 3.0
  max_range: 5.0
  resolution: 0.1
  visualize: false
performance:
  audio_update_interval: 1.5
  cache_depth_maps: true
  danger_audio_interval: 0.4
  depth_skip_frames: 7  # Skip 7 frames = run depth every 8th frame (87% faster)
  enable_multithreading: true
  frame_skip: 0
  max_detections: 5
  stats_interval: 200
point_cloud_viewer:
  enabled: false
  max_depth: 5.0
  max_points: 100000
  min_depth: 0.1
  subsample: 3
prediction:
  enabled: false
  model_path: models/rl/ppo_navigation.zip
  save_interval: 1000
  training_steps: 10000
safety:
  caution_distance: 2.5
  danger_distance: 1.0
  emergency_stop_key: q
  max_obstacle_alerts: 3
  min_safe_distance: 1.5
slam:
  enabled: true
  feature_type: ORB2  # ORB-SLAM2 optimized features (now built!)
  orb_features: 800  # Further reduced for real-time speed
  loop_closure: false  # Disabled for speed (was causing relocalization overhead)
  use_pyslam: true
  use_rerun: false  # Disabled for 20-30% performance boost
  # Tracking optimizations for stable performance
  tracking_quality_threshold: 0.6  # Balanced tolerance
  min_tracked_points: 10  # Balanced minimum
  max_frames_between_keyframes: 15  # Efficient keyframe selection
  # Memory management (prevent leaks)
  max_trajectory_length: 500  # Reduced for speed (1000 default)
  max_map_points: 3000  # Reduced for faster BA (5000 default)
  cleanup_interval: 700  # More frequent cleanup (500 default)
  # Dense reconstruction settings (post-processing only)
  # To use: Run SLAM, save map (press 's' in Pangolin), then run: ./dense_reconstruction.sh
  dense_reconstruction:
    enabled: false  # Disabled - too slow for real-time (uses depth estimator)
    type: TSDF  # TSDF or GAUSSIAN_SPLATTING
    extract_mesh: true  # true = mesh, false = point cloud
    voxel_length: 0.04  # meters - 4cm for fast real-time (0.015 too detailed)
    depth_trunc: 4.0  # meters - max depth for indoor scenes
stair_detection:
  enabled: false  # Critical safety feature - detect stairs and curbs
  min_drop_height: 0.15  # Minimum drop to detect (meters) - 15cm
  stair_height_range: [0.15, 0.25]  # Typical stair height range (meters)
  detection_distance: 2.5  # Detect hazards up to this distance (meters)
  ground_roi_bottom: 0.7  # Bottom of ground ROI (fraction of frame height)
  ground_roi_top: 0.4  # Top of ground ROI (fraction of frame height)
  gradient_threshold: 0.3  # Depth gradient threshold (meters/meter)
  edge_confidence: 0.6  # Minimum confidence for edge detection (0-1)
  warning_distance_danger: 1.0  # Distance for danger warning (meters)
  warning_distance_caution: 2.0  # Distance for caution warning (meters)
social_navigation:
  enabled: true
  region: us
  voice_announce: true
trajectory_prediction:
  collision_warning: true
  enabled: false
  max_history: 10
  prediction_horizon: 3
  time_step: 0.5
  visualize: false
visual_odometry:
  bundle_adjustment: false
  enabled: false
  fast_threshold: 12
  feature_type: ORB
  keyframe_threshold: 30
  loop_closure: true
  max_depth: 10.0
  max_position_jump: 0.5
  max_rotation_jump: 0.5
  min_depth: 0.1
  min_matches: 5
  min_parallax: 0.5
  min_tracked_features: 10
  motion_model: true
  num_features: 3000
  orb_features: 3000
  pose_smoothing: 0.7
  reprojection_threshold: 3.0
  save_maps: true
  temporal_consistency_check: true
  trajectory_length: 1000
  use_pyslam_vo: true
  use_rerun: true
  visualization_scale: 50
  visualize: true
visualization:
  advanced_nav_panel: true
  use_fast_depth: true
